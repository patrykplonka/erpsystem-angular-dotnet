<div class="warehouse-container">
  <div class="dashboard-container">
    <app-sidebar (navigate)="navigateTo($event)" (logoutEvent)="logout()"></app-sidebar>
    <main class="main-content">
      <header>
        <div>
          <h1>Ruchy magazynowe</h1>
          <p>Lista wszystkich ruchów magazynowych</p>
        </div>
        <button class="action-button add-button" (click)="navigateToAddMovement()">Dodaj ruch</button>
      </header>
      <section class="warehouse-section">
        <div class="filters">
          <div class="form-group">
            <label for="movementTypeFilter">Typ ruchu</label>
            <input type="text" [(ngModel)]="movementTypeFilter" (input)="applyFilters()" id="movementTypeFilter">
          </div>
          <div class="form-group">
            <label for="movementStatusFilter">Status</label>
            <input type="text" [(ngModel)]="movementStatusFilter" (input)="applyFilters()" id="movementStatusFilter">
          </div>
          <div class="form-group">
            <label for="movementUserFilter">Użytkownik</label>
            <input type="text" [(ngModel)]="movementUserFilter" (input)="applyFilters()" id="movementUserFilter">
          </div>
          <div class="form-group">
            <label for="movementMinQuantityFilter">Min. ilość</label>
            <input type="number" [(ngModel)]="movementMinQuantityFilter" (input)="applyFilters()" id="movementMinQuantityFilter">
          </div>
          <div class="form-group">
            <label for="movementMaxQuantityFilter">Max. ilość</label>
            <input type="number" [(ngModel)]="movementMaxQuantityFilter" (input)="applyFilters()" id="movementMaxQuantityFilter">
          </div>
          <div class="form-group">
            <label for="movementStartDateFilter">Data od</label>
            <input type="date" [(ngModel)]="movementStartDateFilter" (input)="applyFilters()" id="movementStartDateFilter">
          </div>
          <div class="form-group">
            <label for="movementEndDateFilter">Data do</label>
            <input type="date" [(ngModel)]="movementEndDateFilter" (input)="applyFilters()" id="movementEndDateFilter">
          </div>
        </div>
        <div class="movements-container">
          <table class="items-table" *ngIf="filteredMovements.length > 0">
            <thead>
              <tr>
                <th (click)="sortMovements('movementType')">Typ ruchu</th>
                <th (click)="sortMovements('supplier')">Dostawca</th>
                <th (click)="sortMovements('documentNumber')">Numer dokumentu</th>
                <th (click)="sortMovements('date')">Data</th>
                <th (click)="sortMovements('quantity')">Ilość</th>
                <th (click)="sortMovements('status')">Status</th>
                <th (click)="sortMovements('productName')">Produkt</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let movement of filteredMovements">
                <td>{{ movement.movementType }}</td>
                <td>{{ movement.supplier }}</td>
                <td>{{ movement.documentNumber }}</td>
                <td>{{ movement.date }}</td>
                <td>{{ movement.quantity }}</td>
                <td>{{ movement.status }}</td>
                <td>{{ movement.productName }} ({{ movement.productCode }})</td>
              </tr>
            </tbody>
          </table>
          <div *ngIf="filteredMovements.length === 0">Brak ruchów magazynowych.</div>
        </div>
      </section>
    </main>
  </div>
</div>
